#!/usr/bin/env python
# GENERATED BY KOMAND SDK - DO NOT EDIT
import os
import sys

from insightconnect_plugin_runtime import CLI

# Import the plugin
from komand_haloitsm import connection, actions, triggers

Name = "HaloITSM"
Vendor = "derricksmith"
Version = "1.0.0"
Description = "HaloITSM plugin for IT Service Management integration with Rapid7"


class ICONhaloitsm:
    def __init__(self):
        self.name = Name
        self.vendor = Vendor
        self.version = Version
        self.description = Description
        self.connection = connection.Connection()
        
        # Register actions
        self.actions = {}
        for action_name in actions.__all__:
            action_module = getattr(actions, action_name)
            if hasattr(action_module, action_name.title().replace("_", "")):
                action_class = getattr(action_module, action_name.title().replace("_", ""))
                self.actions[action_name] = action_class()
        
        # Register triggers
        self.triggers = {}
        for trigger_name in triggers.__all__:
            trigger_module = getattr(triggers, trigger_name)
            if hasattr(trigger_module, trigger_name.title().replace("_", "")):
                trigger_class = getattr(trigger_module, trigger_name.title().replace("_", ""))
                self.triggers[trigger_name] = trigger_class()


def main():
    """CLI entry point"""
    CLI(ICONhaloitsm()).run()


if __name__ == "__main__":
    main()
