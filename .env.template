# Production Environment Configuration
# Copy this file and customize for your environment

# =============================================================================
# STAGING ENVIRONMENT
# =============================================================================
[staging]
# HaloITSM API Configuration
HALO_CLIENT_ID=staging-client-id-here
HALO_CLIENT_SECRET=staging-client-secret-here
HALO_AUTH_SERVER=https://staging.haloitsm.com/auth
HALO_RESOURCE_SERVER=https://staging.haloitsm.com/api
HALO_TENANT=staging-tenant

# InsightConnect Configuration
INSIGHT_CONNECT_URL=https://us.api.insight.rapid7.com
INSIGHT_CONNECT_API_KEY=staging-api-key-here

# Default Configuration for Staging
DEFAULT_TICKET_TYPE_ID=1        # Test Incident
DEFAULT_PRIORITY_ID=2           # Medium Priority
DEFAULT_TEAM_ID=999             # Test Team
DEFAULT_AGENT_ID=1              # Test Agent
DEFAULT_CATEGORY_ID=1           # Test Category

# =============================================================================
# PRODUCTION ENVIRONMENT
# =============================================================================
[production]
# HaloITSM API Configuration
HALO_CLIENT_ID=prod-client-id-here
HALO_CLIENT_SECRET=prod-client-secret-here
HALO_AUTH_SERVER=https://company.haloitsm.com/auth
HALO_RESOURCE_SERVER=https://company.haloitsm.com/api
HALO_TENANT=company

# InsightConnect Configuration
INSIGHT_CONNECT_URL=https://us.api.insight.rapid7.com
INSIGHT_CONNECT_API_KEY=prod-api-key-here

# Production Defaults - Security Team
DEFAULT_TICKET_TYPE_ID=1        # Security Incident
DEFAULT_PRIORITY_ID=3           # High Priority
DEFAULT_TEAM_ID=15              # Security Operations
DEFAULT_AGENT_ID=42             # Security Manager
DEFAULT_CATEGORY_ID=8           # Cybersecurity

# =============================================================================
# TEAM-SPECIFIC CONFIGURATIONS
# =============================================================================

# Security Operations Team
[security_team]
DEFAULT_TICKET_TYPE_ID=1        # Security Incident
DEFAULT_PRIORITY_ID=3           # High Priority
DEFAULT_TEAM_ID=15              # Security Operations
DEFAULT_AGENT_ID=42             # Security Manager
DEFAULT_CATEGORY_ID=8           # Cybersecurity

# Infrastructure Team
[infrastructure_team]
DEFAULT_TICKET_TYPE_ID=3        # Service Request
DEFAULT_PRIORITY_ID=2           # Medium Priority
DEFAULT_TEAM_ID=10              # Infrastructure
DEFAULT_AGENT_ID=25             # Infrastructure Lead
DEFAULT_CATEGORY_ID=5           # Infrastructure

# Application Support Team
[application_team]
DEFAULT_TICKET_TYPE_ID=2        # Problem
DEFAULT_PRIORITY_ID=2           # Medium Priority
DEFAULT_TEAM_ID=8               # Application Support
DEFAULT_AGENT_ID=33             # App Support Lead
DEFAULT_CATEGORY_ID=3           # Applications

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================

# Webhook URLs (InsightConnect Trigger URLs)
WEBHOOK_TICKET_CREATED=https://us.api.insight.rapid7.com/connect/v1/webhooks/abc123-created
WEBHOOK_TICKET_UPDATED=https://us.api.insight.rapid7.com/connect/v1/webhooks/abc123-updated
WEBHOOK_TICKET_STATUS_CHANGED=https://us.api.insight.rapid7.com/connect/v1/webhooks/abc123-status

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Metrics Collection
ENABLE_METRICS=true
METRICS_ENDPOINT=https://metrics.company.com/haloitsm

# Health Check Configuration
HEALTH_CHECK_INTERVAL=300       # 5 minutes
HEALTH_CHECK_TIMEOUT=30         # 30 seconds

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# SSL/TLS Configuration
SSL_VERIFY=true
SSL_CERT_PATH=/etc/ssl/certs/company-ca.pem

# Rate Limiting
API_RATE_LIMIT=100              # Requests per minute
API_BURST_LIMIT=10              # Burst capacity

# Timeout Configuration
API_TIMEOUT=30                  # API timeout in seconds
CONNECTION_TIMEOUT=10           # Connection timeout in seconds

# =============================================================================
# RAPID7 INTEGRATION SETTINGS
# =============================================================================

# InsightIDR Configuration
INSIGHT_IDR_REGION=us
INSIGHT_IDR_API_KEY=idr-api-key-here

# InsightVM Configuration  
INSIGHT_VM_REGION=us
INSIGHT_VM_API_KEY=vm-api-key-here

# Status Mapping Configuration
ENABLE_STATUS_SYNC=true
SYNC_INTERVAL=300               # 5 minutes

# InsightIDR Status Mapping
IDR_OPEN_STATUS=1               # HaloITSM "New"
IDR_INVESTIGATING_STATUS=2      # HaloITSM "In Progress"
IDR_CLOSED_STATUS=4             # HaloITSM "Resolved"

# InsightVM Status Mapping
VM_NOT_STARTED_STATUS=1         # HaloITSM "New"
VM_IN_PROGRESS_STATUS=2         # HaloITSM "In Progress"
VM_REMEDIATED_STATUS=4          # HaloITSM "Resolved"
VM_WILL_NOT_FIX_STATUS=5        # HaloITSM "Closed"

# =============================================================================
# CUSTOM FIELD MAPPING
# =============================================================================

# Custom Fields for Integration Tracking
INSIGHT_IDR_INVESTIGATION_ID_FIELD=CFInsightIDRInvestigationID
INSIGHT_VM_PROJECT_ID_FIELD=CFInsightVMProjectID
INTEGRATION_SOURCE_FIELD=CFIntegrationSource

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Connection Pool Settings
HTTP_POOL_CONNECTIONS=10
HTTP_POOL_MAXSIZE=10
HTTP_MAX_RETRIES=3

# Cache Configuration
ENABLE_TOKEN_CACHE=true
TOKEN_CACHE_TTL=3300            # 55 minutes (tokens expire at 60 minutes)

# Batch Processing
BATCH_SIZE=50                   # Number of items to process in batch
BATCH_TIMEOUT=300               # Batch processing timeout

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Email Notifications
SMTP_SERVER=smtp.company.com
SMTP_PORT=587
SMTP_USERNAME=notifications@company.com
SMTP_PASSWORD=smtp-password-here
SMTP_USE_TLS=true

# Notification Recipients
ALERT_RECIPIENTS=security-ops@company.com,devops@company.com
ERROR_RECIPIENTS=platform-team@company.com

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup Configuration
ENABLE_CONFIG_BACKUP=true
BACKUP_LOCATION=/backup/haloitsm
BACKUP_RETENTION_DAYS=30

# Disaster Recovery (Optional - only if you have a DR HaloITSM instance)
# Most organizations only have a single HaloITSM instance
ENABLE_DR_FAILOVER=false        # Set to true only if you have DR instance
DR_HALO_AUTH_SERVER=            # Leave empty if no DR instance
DR_HALO_RESOURCE_SERVER=        # Leave empty if no DR instance  
DR_FAILOVER_THRESHOLD=5         # Failed requests before failover (if enabled)

# Alternative DR Strategy: Manual failover procedures
# Document manual steps for HaloITSM outage scenarios:
# 1. Disable plugin temporarily
# 2. Queue tickets in alternative system
# 3. Re-sync when HaloITSM returns
# 4. Update runbook with manual procedures

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development Mode
DEBUG_MODE=false
ENABLE_TEST_ENDPOINTS=false

# Load Testing
LOAD_TEST_ENABLED=false
LOAD_TEST_TPS=10                # Transactions per second

# Feature Flags
ENABLE_ADVANCED_MATCHING=true
ENABLE_AUTO_ASSIGNMENT=true
ENABLE_BULK_OPERATIONS=false

# =============================================================================
# USAGE NOTES
# =============================================================================

# 1. Copy this file to .env.production and customize values
# 2. Store sensitive values in your secrets management system
# 3. Use different configurations for different teams/use cases
# 4. Regularly review and update configurations
# 5. Test configuration changes in staging first
# 6. Document any custom configurations in your runbook

# Security Note: Never commit actual credentials to version control!
# This file should be used as a template only.